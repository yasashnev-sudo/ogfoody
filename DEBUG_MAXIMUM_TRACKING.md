# üî• Debug System - –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–û–ï –û–¢–°–õ–ï–ñ–ò–í–ê–ù–ò–ï

## ‚úÖ –ß—Ç–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ

–°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç **–í–°–Å**:
- ‚úÖ –í—Å–µ JavaScript –æ—à–∏–±–∫–∏ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- ‚úÖ –í—Å–µ Promise rejections (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- ‚úÖ –í—Å–µ React –æ—à–∏–±–∫–∏ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- ‚úÖ –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- ‚úÖ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

---

## üìä –ò–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –£–≤–µ–ª–∏—á–µ–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–æ–≥–æ–≤

**–ë—ã–ª–æ:** 20 –ª–æ–≥–æ–≤ –≤ –æ—Ç—á—ë—Ç–µ  
**–°—Ç–∞–ª–æ:** 50 –ª–æ–≥–æ–≤ –≤ –æ—Ç—á—ë—Ç–µ

**–§–∞–π–ª:** `hooks/useDebugRecorder.tsx`

```typescript
// –ü–æ–ª—É—á–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ 50 –ª–æ–≥–æ–≤ (—É–≤–µ–ª–∏—á–µ–Ω–æ –¥–ª—è –ª—É—á—à–µ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞)
const recentLogs = logsRef.current.slice(-50).map(...)
```

---

### 2. –ê–≤—Ç–æ–æ—Ç–ø—Ä–∞–≤–∫–∞ –≤–µ–∑–¥–µ (–Ω–µ —Ç–æ–ª—å–∫–æ –≤ prod)

**–ë—ã–ª–æ:** –ê–≤—Ç–æ–æ—Ç–ø—Ä–∞–≤–∫–∞ —Ç–æ–ª—å–∫–æ –≤ production  
**–°—Ç–∞–ª–æ:** –ê–≤—Ç–æ–æ—Ç–ø—Ä–∞–≤–∫–∞ –í–°–ï–ì–î–ê (–∏ –≤ dev, –∏ –≤ prod)

**–§–∞–π–ª:** `hooks/useDebugRecorder.tsx`

```typescript
// üî• –ê–≤—Ç–æ–æ—Ç–ø—Ä–∞–≤–∫–∞ –í–°–ï–ì–î–ê (–∏ –≤ dev, –∏ –≤ prod)
captureError({
  errorMessage: `Uncaught Error: ${event.message}`,
  data: {
    ...
    environment: process.env.NODE_ENV, // –£–∫–∞–∑—ã–≤–∞–µ–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ
  },
});
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í—Å–µ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** —Å–æ–∑–¥–∞—é—Ç –æ—Ç—á—ë—Ç
- Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç **–≤—Å–µ–≥–¥–∞**
- –ú–æ–∂–µ—à—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ –∏ –≤–∏–¥–µ—Ç—å –æ—Ç—á—ë—Ç—ã

---

### 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏

**–°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π —Ñ–∞–π–ª:** `lib/debug-auto-checks.ts`

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**

#### üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–ª–æ–≤ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ (`checkLoyaltyPointsAwarded`)
- ‚ùå –ë–∞–ª–ª—ã –Ω–µ –Ω–∞—á–∏—Å–ª–∏–ª–∏—Å—å (–∫–æ–≥–¥–∞ –¥–æ–ª–∂–Ω—ã –±—ã–ª–∏)
- ‚ùå –ù–∞—á–∏—Å–ª–µ–Ω–æ –Ω–µ–≤–µ—Ä–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–ª–ª–æ–≤
- ‚ùå –ë–∞–ª–ª—ã –Ω–∞—á–∏—Å–ª–∏–ª–∏—Å—å –ø—Ä–∏ –æ–ø–ª–∞—Ç–µ –Ω–∞–ª–∏—á–Ω—ã–º–∏ (–Ω–µ –¥–æ–ª–∂–Ω—ã)

#### üí∞ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É–º–º—ã –∑–∞–∫–∞–∑–∞ (`checkOrderTotal`)
- ‚ùå –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è —Å—É–º–º–∞ –∑–∞–∫–∞–∑–∞
- ‚ùå –°—É–º–º–∞ –∑–∞–∫–∞–∑–∞ = 0 (—Å—Ç—Ä–∞–Ω–Ω–æ)
- ‚ùå –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–∞—Å—á—ë—Ç (subtotal + delivery - points ‚â† total)
- ‚ùå NaN –≤ —Ä–∞—Å—á—ë—Ç–∞—Ö

#### üì¶ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–∞ (`checkOrderData`)
- ‚ùå persons –ø—É—Å—Ç (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞!)
- ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –¥–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –∑–∞–∫–∞–∑–∞
- ‚ùå –í –∑–∞–∫–∞–∑–µ –µ—Å—Ç—å –ø–µ—Ä—Å–æ–Ω—ã –±–µ–∑ –±–ª—é–¥

#### üîÑ –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è (`checkProfileUpdate`)
- ‚ùå totalSpent —É–º–µ–Ω—å—à–∏–ª—Å—è (–±—ã—Ç—å –Ω–µ –º–æ–∂–µ—Ç!)
- ‚ùå totalSpent –Ω–µ –æ–±–Ω–æ–≤–∏–ª—Å—è –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã
- ‚ùå –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –±–∞–ª–ª—ã –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏

#### üîê –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (`checkAuthState`)
- ‚ùå –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, –Ω–æ –ø—Ä–æ—Ñ–∏–ª—å –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω
- ‚ùå –ù–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –ø—Ä–æ—Ñ–∏–ª—è

---

### 4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Å—Ç–∞

**–§–∞–π–ª:** `app/page.tsx`

#### 4.1 –í `handlePaymentComplete` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–ª–æ–≤

```typescript
// üî• –ê–í–¢–û–ü–†–û–í–ï–†–ö–ê: –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –±–∞–ª–ª–æ–≤
await checkLoyaltyPointsAwarded(debug, {
  paymentMethod,
  orderTotal: order.total || 0,
  expectedPoints,
  actualPointsAwarded,
  oldPoints: oldLoyaltyPoints,
  newPoints: newLoyaltyPoints,
  userId: userProfile.id,
  orderId: order.id || 'unknown',
})
```

#### 4.2 –í `handleAutoCheckout` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É–º–º—ã

```typescript
// üî• –ê–í–¢–û–ü–†–û–í–ï–†–ö–ê: –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞—Å—á—ë—Ç–∞ —Å—É–º–º—ã
await checkOrderTotal(debug, {
  subtotal,
  deliveryFee,
  total: totalWithDelivery,
  userId: userProfile.id,
})
```

#### 4.3 –í `handleAutoCheckout` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–∞

```typescript
// üî• –ê–í–¢–û–ü–†–û–í–ï–†–ö–ê: –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–∞ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
await checkOrderData(debug, {
  order: updatedOrder,
  userId: userProfile.id,
})
```

---

## üéØ –ß—Ç–æ —ç—Ç–æ –¥–∞—ë—Ç

### –°–µ–π—á–∞—Å —Å–∏—Å—Ç–µ–º–∞ **–ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò** –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç:

| –ü—Ä–æ–±–ª–µ–º–∞ | –†–∞–Ω—å—à–µ | –°–µ–π—á–∞—Å |
|----------|--------|--------|
| JavaScript –æ—à–∏–±–∫–∞ | ‚ùå –ù–µ –ª–æ–≤–∏—Ç—Å—è | ‚úÖ –ê–≤—Ç–æ –æ—Ç—á—ë—Ç + Telegram |
| Promise rejection | ‚ùå –ù–µ –ª–æ–≤–∏—Ç—Å—è | ‚úÖ –ê–≤—Ç–æ –æ—Ç—á—ë—Ç + Telegram |
| React –æ—à–∏–±–∫–∞ | ‚ùå –ë–µ–ª—ã–π —ç–∫—Ä–∞–Ω | ‚úÖ –ö—Ä–∞—Å–∏–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ + –æ—Ç—á—ë—Ç |
| –ë–∞–ª–ª—ã –Ω–µ –Ω–∞—á–∏—Å–ª–∏–ª–∏—Å—å | ‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∂–∞–ª—É–µ—Ç—Å—è | ‚úÖ –ê–≤—Ç–æ –æ—Ç—á—ë—Ç + Telegram |
| –ù–µ–≤–µ—Ä–Ω–∞—è —Å—É–º–º–∞ | ‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∂–∞–ª—É–µ—Ç—Å—è | ‚úÖ –ê–≤—Ç–æ –æ—Ç—á—ë—Ç + Telegram |
| –ü—É—Å—Ç–æ–π persons | ‚ùå –ó–∞–∫–∞–∑ –Ω–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è | ‚úÖ –ê–≤—Ç–æ –æ—Ç—á—ë—Ç + Telegram |
| NaN –≤ —Ä–∞—Å—á—ë—Ç–∞—Ö | ‚ùå –¢–∏—Ö–∞—è –æ—à–∏–±–∫–∞ | ‚úÖ –ê–≤—Ç–æ –æ—Ç—á—ë—Ç + Telegram |
| –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –±–∞–ª–ª—ã | ‚ùå –ù–µ –∑–∞–º–µ—á–∞–µ—Ç—Å—è | ‚úÖ –ê–≤—Ç–æ –æ—Ç—á—ë—Ç + Telegram |

---

## üì± –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–∏–º–µ—Ä 1: –ë–∞–ª–ª—ã –Ω–µ –Ω–∞—á–∏—Å–ª–∏–ª–∏—Å—å

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–ø–ª–∞—Ç–∏–ª –∑–∞–∫–∞–∑ –Ω–∞ 5000‚ÇΩ –∫–∞—Ä—Ç–æ–π
2. –î–æ–ª–∂–Ω–æ –Ω–∞—á–∏—Å–ª–∏—Ç—å—Å—è 50 –±–∞–ª–ª–æ–≤ (1% –æ—Ç —Å—É–º–º—ã)
3. –ù–æ –Ω–∞—á–∏—Å–ª–∏–ª–æ—Å—å 0 –±–∞–ª–ª–æ–≤

‚Üí –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
  - –°–æ–∑–¥–∞—ë—Ç—Å—è –æ—Ç—á—ë—Ç –≤ debug_reports/
  - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ:
    "‚ö†Ô∏è –ë–∞–ª–ª—ã –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ –Ω–µ –Ω–∞—á–∏—Å–ª–∏–ª–∏—Å—å"
  - –î–µ—Ç–∞–ª–∏: –æ–∂–∏–¥–∞–ª–æ—Å—å 50, –ø–æ–ª—É—á–µ–Ω–æ 0

4. –¢—ã –≤–∏–¥–∏—à—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram üì±
5. –û—Ç–∫—Ä—ã–≤–∞–µ—à—å –ª–æ–≥ —Ñ–∞–π–ª
6. –í–∏–¥–∏—à—å —Ç–æ—á–Ω—É—é –æ—à–∏–±–∫—É
7. –§–∏–∫—Å–∏—à—å! ‚úÖ
```

### –ü—Ä–∏–º–µ—Ä 2: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Å—É–º–º–∞ –∑–∞–∫–∞–∑–∞

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ñ–æ—Ä–º–ª—è–µ—Ç –∑–∞–∫–∞–∑
2. Subtotal = 2000‚ÇΩ, Delivery = 300‚ÇΩ
3. Total –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 2300‚ÇΩ
4. –ù–æ total = -100‚ÇΩ (–æ—à–∏–±–∫–∞ –≤ –∫–æ–¥–µ!)

‚Üí –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
  - –°–æ–∑–¥–∞—ë—Ç—Å—è –æ—Ç—á—ë—Ç
  - Telegram: "üö® –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è —Å—É–º–º–∞ –∑–∞–∫–∞–∑–∞!"
  - –î–µ—Ç–∞–ª–∏: subtotal=2000, delivery=300, total=-100

5. –¢—ã –≤–∏–¥–∏—à—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫—É—é –æ—à–∏–±–∫—É –°–†–ê–ó–£ üì±
6. –§–∏–∫—Å–∏—à—å –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–º–µ—Ç–∏–ª! ‚úÖ
```

### –ü—Ä–∏–º–µ—Ä 3: –ü—É—Å—Ç–æ–π persons –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–∫–∞–∑–∞

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±—Ä–∞–ª –±–ª—é–¥–∞
2. –ù–∞–∂–∞–ª "–û—Ñ–æ—Ä–º–∏—Ç—å"
3. –ü—Ä–æ–∏–∑–æ—à–ª–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
4. –ü—Ä–∏ –∞–≤—Ç–æ–æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏ persons –æ–∫–∞–∑–∞–ª—Å—è –ø—É—Å—Ç (–±–∞–≥!)

‚Üí –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
  - –°–æ–∑–¥–∞—ë—Ç—Å—è –æ—Ç—á—ë—Ç —Å –ø–æ–ª–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
  - Telegram: "üö® persons –ø—É—Å—Ç –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–∫–∞–∑–∞!"
  - –î–µ—Ç–∞–ª–∏: pendingCheckout, lastOrder, –≤—Å–µ –¥–∞–Ω–Ω—ã–µ

5. –í–∏–¥–∏—à—å –ø—Ä–æ–±–ª–µ–º—É —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º üì±
6. –ü–æ–Ω–∏–º–∞–µ—à—å, –ø–æ—á–µ–º—É persons –ø—É—Å—Ç
7. –§–∏–∫—Å–∏—à—å –±–∞–≥! ‚úÖ
```

---

## üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram

### –ü—Ä–∏–º–µ—Ä—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:

```
üêû –ù–æ–≤—ã–π Debug Report

‚ùå –û—à–∏–±–∫–∞: ‚ö†Ô∏è –ë–∞–ª–ª—ã –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ –Ω–µ –Ω–∞—á–∏—Å–ª–∏–ª–∏—Å—å
üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: test@example.com (ID: 95)
üì± URL: https://ogfoody.ru/checkout
üïê –í—Ä–µ–º—è: 13.01.2026, 15:30:00

üìä –î–µ—Ç–∞–ª–∏:
- –ú–µ—Ç–æ–¥ –æ–ø–ª–∞—Ç—ã: card
- –°—É–º–º–∞ –∑–∞–∫–∞–∑–∞: 5000‚ÇΩ
- –û–∂–∏–¥–∞–ª–æ—Å—å –±–∞–ª–ª–æ–≤: 50
- –ù–∞—á–∏—Å–ª–µ–Ω–æ –±–∞–ª–ª–æ–≤: 0
- ID –∑–∞–∫–∞–∑–∞: 12345

üìÇ –õ–æ–≥ —Ñ–∞–π–ª: 2026-01-13T15-30-00_user-95_logs.txt
```

```
üêû –ù–æ–≤—ã–π Debug Report

‚ùå –û—à–∏–±–∫–∞: üö® –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è —Å—É–º–º–∞ –∑–∞–∫–∞–∑–∞!
üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: user@example.com (ID: 120)
üì± URL: https://ogfoody.ru/
üïê –í—Ä–µ–º—è: 13.01.2026, 16:45:22

üìä –î–µ—Ç–∞–ª–∏:
- Subtotal: 2000‚ÇΩ
- –î–æ—Å—Ç–∞–≤–∫–∞: 300‚ÇΩ
- Total: -100‚ÇΩ
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –±–∞–ª–ª–æ–≤: 0

üìÇ –õ–æ–≥ —Ñ–∞–π–ª: 2026-01-13T16-45-22_user-120_logs.txt
üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç: 2026-01-13T16-45-22_user-120_screenshot.png
```

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è

–ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è —Ç—ã –±—É–¥–µ—à—å –≤–∏–¥–µ—Ç—å:

```
debug_reports/index.json:
{
  "reports": [
    {
      "errorMessage": "‚ö†Ô∏è –ë–∞–ª–ª—ã –Ω–µ –Ω–∞—á–∏—Å–ª–∏–ª–∏—Å—å",
      "issue": "loyalty_points_not_awarded",
      "count": 3
    },
    {
      "errorMessage": "‚ö†Ô∏è –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–∞—Å—á—ë—Ç —Å—É–º–º—ã",
      "issue": "total_calculation_mismatch",
      "count": 1
    },
    {
      "errorMessage": "üö® persons –ø—É—Å—Ç",
      "issue": "empty_persons_array",
      "count": 2
    }
  ]
}
```

**–ú–æ–∂–µ—à—å –ø–æ–ø—Ä–æ—Å–∏—Ç—å AI –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å:**
```
"–ü–æ–∫–∞–∂–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Å–∞–º—ã—Ö —á–∞—Å—Ç—ã—Ö –æ—à–∏–±–æ–∫ –∑–∞ —Å–µ–≥–æ–¥–Ω—è"

‚Üí AI –ø—Ä–æ—á–∏—Ç–∞–µ—Ç index.json
‚Üí –°–≥—Ä—É–ø–ø–∏—Ä—É–µ—Ç –ø–æ —Ç–∏–ø—É –æ—à–∏–±–∫–∏
‚Üí –ü–æ–∫–∞–∂–µ—Ç —Ç–æ–ø-5 –ø—Ä–æ–±–ª–µ–º
‚Üí –ü—Ä–µ–¥–ª–æ–∂–∏—Ç —Ä–µ—à–µ–Ω–∏—è! üéØ
```

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –•–æ—á–µ—à—å –æ—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–æ—Ç–ø—Ä–∞–≤–∫—É –≤ dev?

–í `hooks/useDebugRecorder.tsx`:

```typescript
// –í–º–µ—Å—Ç–æ:
captureError({ ... });

// –°–¥–µ–ª–∞–π:
if (process.env.NODE_ENV === 'production') {
  captureError({ ... });
}
```

### –•–æ—á–µ—à—å –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏?

–í `lib/debug-auto-checks.ts` –¥–æ–±–∞–≤—å –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é:

```typescript
export async function checkMyCustomLogic(
  debug: DebugRecorder,
  params: { ... }
) {
  if (somethingWrong) {
    await debug.captureError({
      errorMessage: '‚ö†Ô∏è –ú–æ—è –ø—Ä–æ–±–ª–µ–º–∞',
      data: { ... },
    });
  }
}
```

–ó–∞—Ç–µ–º –≤—ã–∑–æ–≤–∏ –≤ –Ω—É–∂–Ω–æ–º –º–µ—Å—Ç–µ `app/page.tsx`:

```typescript
await checkMyCustomLogic(debug, { ... });
```

---

## üéØ –ò—Ç–æ–≥–æ

### ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:

1. **–£–≤–µ–ª–∏—á–µ–Ω–æ —Å 20 –¥–æ 50 –ª–æ–≥–æ–≤** –≤ –æ—Ç—á—ë—Ç–µ
2. **–ê–≤—Ç–æ–æ—Ç–ø—Ä–∞–≤–∫–∞ –≤–µ–∑–¥–µ** (–Ω–µ —Ç–æ–ª—å–∫–æ –≤ prod)
3. **–ê–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏** (5 —Ç–∏–ø–æ–≤ –ø—Ä–æ–≤–µ—Ä–æ–∫)
4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Å—Ç–∞** (3 –º–µ—Å—Ç–∞)

### üìä –†–µ–∑—É–ª—å—Ç–∞—Ç:

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü–æ—Å–ª–µ |
|---------|----|----|
| –õ–æ–≥–æ–≤ –≤ –æ—Ç—á—ë—Ç–µ | 20 | 50 |
| –ê–≤—Ç–æ–æ—Ç–ø—Ä–∞–≤–∫–∞ | –¢–æ–ª—å–∫–æ prod | –í–µ–∑–¥–µ |
| –ü—Ä–æ–≤–µ—Ä–æ–∫ | 0 | 5 —Ç–∏–ø–æ–≤ |
| –ú–µ—Å—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ | 0 | 3 |
| –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ | –†—É—á–Ω–æ–µ | **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ** |

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ö–æ–¥ –æ–±–Ω–æ–≤–ª—ë–Ω
2. ‚è≥ –ù—É–∂–Ω–æ –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å
3. ‚è≥ –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –Ω–∞ production
4. ‚è≥ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

---

**üî• –¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –í–°–Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!**

–õ—é–±–∞—è –ø—Ä–æ–±–ª–µ–º–∞ ‚Üí –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram ‚Üí –±—ã—Å—Ç—Ä—ã–π —Ñ–∏–∫—Å! üéØ


