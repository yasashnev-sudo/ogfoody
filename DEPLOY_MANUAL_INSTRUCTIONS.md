# üîß –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∏–¥–∂–µ—Ç–∞

**–î–∞—Ç–∞:** 2026-01-18  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ–¥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –Ω–µ –æ–±–Ω–æ–≤–∏–ª—Å—è, –≤–∏–¥–∂–µ—Ç –≤—Å–µ –µ—â–µ –ø—ã—Ç–∞–µ—Ç—Å—è –æ—Ç–∫—Ä—ã—Ç—å—Å—è

---

## ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞

–í –ª–æ–≥–∞—Ö –±—Ä–∞—É–∑–µ—Ä–∞:
```javascript
"shouldUseRedirect": false  // ‚Üê –î–æ–ª–∂–Ω–æ –±—ã—Ç—å true!
```

**–í—ã–≤–æ–¥:** –ö–æ–¥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –Ω–µ –æ–±–Ω–æ–≤–∏–ª—Å—è. –õ–æ–∫–∞–ª—å–Ω–æ `shouldUseRedirect = true`, –Ω–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è.

---

## ‚úÖ –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ SSH

### –®–∞–≥ 1: –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É

```bash
ssh root@ogfoody.ru
# –∏–ª–∏
ssh root@5.129.194.168
# –ü–∞—Ä–æ–ª—å: pULRoAvF@P-@4Y
```

### –®–∞–≥ 2: –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞

```bash
cd /var/www/ogfoody
# –∏–ª–∏
cd /root/my-project
```

### –®–∞–≥ 3: –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥

```bash
git fetch origin
git reset --hard origin/main
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–æ–¥ –æ–±–Ω–æ–≤–∏–ª—Å—è

```bash
grep "shouldUseRedirect" components/payment-modal.tsx
```

**–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```typescript
const shouldUseRedirect = true // –í—Ä–µ–º–µ–Ω–Ω–æ: redirect –≤–µ–∑–¥–µ
```

### –®–∞–≥ 5: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç

```bash
npm install --production=false
pm2 stop all
npm run build
```

### –®–∞–≥ 6: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
pm2 delete all
pm2 start ecosystem.config.js
pm2 status
```

### –®–∞–≥ 7: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏

```bash
pm2 logs ogfoody --lines 50
```

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

1. **–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É** (Ctrl+F5 –∏–ª–∏ Cmd+Shift+R)
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±—Ä–∞—É–∑–µ—Ä–∞:**
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `"shouldUseRedirect": true`
   - –í–∏–¥–∂–µ—Ç –ù–ï –¥–æ–ª–∂–µ–Ω –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è
   - –î–æ–ª–∂–µ–Ω –±—ã—Ç—å redirect –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–ø–ª–∞—Ç—ã YooKassa

3. **–ï—Å–ª–∏ –≤–∏–¥–∂–µ—Ç –≤—Å–µ –µ—â–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ: `grep "shouldUseRedirect" components/payment-modal.tsx`
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `const shouldUseRedirect = true`
   - –ï—Å–ª–∏ –Ω–µ—Ç - –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ —à–∞–≥–∏ 3-6

---

## üìù –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± (–µ—Å–ª–∏ SSH –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

–ï—Å–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –º–æ–∂–Ω–æ:

1. **–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª –≤—Ä—É—á–Ω—É—é:**
   ```bash
   scp components/payment-modal.tsx root@ogfoody.ru:/var/www/ogfoody/components/
   ```

2. **–ó–∞—Ç–µ–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
   ```bash
   cd /var/www/ogfoody
   npm run build
   pm2 restart ogfoody
   ```

---

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π
