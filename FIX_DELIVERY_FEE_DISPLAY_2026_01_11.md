# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ü–µ–Ω—ã –¥–æ—Å—Ç–∞–≤–∫–∏ –≤ DistrictSelectionModal

**–î–∞—Ç–∞:** 2026-01-11  
**–ü—Ä–æ–±–ª–µ–º–∞:** –í –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ –≤—ã–±–æ—Ä–∞ —Ä–∞–π–æ–Ω–∞ –≤—Å–µ —Ä–∞–π–æ–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏ "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ", —Ö–æ—Ç—è –¥–æ–ª–∂–Ω—ã –±—ã–ª–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Ä–µ–∞–ª—å–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏.

---

## üêõ –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ:

–í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ `DistrictSelectionModal` –≤—Å–µ —Ä–∞–π–æ–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏ "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ" –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –¥–æ—Å—Ç–∞–≤–∫–∏:

```
–ê–¥–º–∏—Ä–∞–ª—Ç–µ–π—Å–∫–∏–π —Ä–∞–π–æ–Ω    –ë–µ—Å–ø–ª–∞—Ç–Ω–æ  ‚ùå
–í–∞—Å–∏–ª–µ–æ—Å—Ç—Ä–æ–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω  –ë–µ—Å–ø–ª–∞—Ç–Ω–æ  ‚ùå
–í—ã–±–æ—Ä–≥—Å–∫–∏–π —Ä–∞–π–æ–Ω        –ë–µ—Å–ø–ª–∞—Ç–Ω–æ  ‚ùå
```

### –ü—Ä–∏—á–∏–Ω–∞:

API `/api/menu` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ –∑–æ–Ω–∞—Ö –¥–æ—Å—Ç–∞–≤–∫–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ **camelCase**:

```typescript
deliveryZones: [
  {
    id: 1,
    district: "–ê–¥–º–∏—Ä–∞–ª—Ç–µ–π—Å–∫–∏–π —Ä–∞–π–æ–Ω",
    deliveryFee: 250,  // ‚úÖ camelCase!
    minOrderAmount: 2300,
    // ...
  }
]
```

–ù–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `DistrictSelectionModal` –∏—Å–∫–∞–ª –ø–æ–ª–µ —Ç–æ–ª—å–∫–æ –≤ –¥–≤—É—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö:
1. `"Delivery Fee"` - —Å –ø—Ä–æ–±–µ–ª–æ–º –∏ –∑–∞–≥–ª–∞–≤–Ω—ã–º–∏ –±—É–∫–≤–∞–º–∏ (–∏–∑ NocoDB)
2. `delivery_fee` - snake_case

–ò **–ù–ï** –∏—Å–∫–∞–ª –≤ —Ñ–æ—Ä–º–∞—Ç–µ `deliveryFee` (camelCase), –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏—Ö–æ–¥–∏—Ç –∏–∑ API `/api/menu`.

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –û–±–Ω–æ–≤–ª–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `DistrictSelectionModal`

**–§–∞–π–ª:** `components/district-selection-modal.tsx` (—Å—Ç—Ä–æ–∫–∞ 133)

**–ë—ã–ª–æ:**
```typescript
const deliveryFee = zone["Delivery Fee"] || zone.delivery_fee || 0
```

**–°—Ç–∞–ª–æ:**
```typescript
// ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –ß–∏—Ç–∞–µ–º deliveryFee –∏–∑ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ (–≤–∫–ª—é—á–∞—è camelCase –∏–∑ API)
const deliveryFee = (zone as any).deliveryFee || zone["Delivery Fee"] || zone.delivery_fee || 0
```

–¢–µ–ø–µ—Ä—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç **—Ç—Ä–∏** —Ñ–æ—Ä–º–∞—Ç–∞:
1. `deliveryFee` (camelCase) - **–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç**, —Ç.–∫. —ç—Ç–æ —Ñ–æ—Ä–º–∞—Ç –∏–∑ `/api/menu`
2. `"Delivery Fee"` (—Å –ø—Ä–æ–±–µ–ª–æ–º) - –Ω–∞ —Å–ª—É—á–∞–π –ø—Ä—è–º–æ–≥–æ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ NocoDB
3. `delivery_fee` (snake_case) - –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

---

### 2. –û–±–Ω–æ–≤–ª–µ–Ω —Ç–∏–ø `NocoDBDeliveryZone`

**–§–∞–π–ª:** `lib/nocodb.ts` (—Å—Ç—Ä–æ–∫–∞ 467)

**–î–æ–±–∞–≤–ª–µ–Ω–æ –Ω–æ–≤–æ–µ –ø–æ–ª–µ:**
```typescript
export interface NocoDBDeliveryZone {
  Id: number
  city?: string
  City?: string
  district?: string
  District?: string
  delivery_fee?: number | string
  "Delivery Fee"?: number | string
  deliveryFee?: number | string  // ‚úÖ –ù–û–í–û–ï: –∏–∑ /api/menu
  min_order_amount?: number | string
  // ...
}
```

–¢–µ–ø–µ—Ä—å TypeScript –∑–Ω–∞–µ—Ç –æ –≤—Å–µ—Ö —Ç—Ä–µ—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö –ø–æ–ª—è `deliveryFee`.

---

## üîç –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç API /api/menu

API `/api/menu` –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ NocoDB –∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –∏—Ö –≤ —É–¥–æ–±–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç:

```typescript
// app/api/menu/route.ts (—Å—Ç—Ä–æ–∫–∞ 384-397)
const deliveryZones = nocoZones
  .filter((zone: any) => parseBoolean(zone.is_available))
  .map((zone: any) => ({
    id: zone.Id || zone.id,
    city: zone.city || zone["City"] || zone.City || "",
    district: zone.district || zone["District"] || zone.District || "",
    deliveryFee: parsePrice(zone.delivery_fee ?? zone["Delivery Fee"]),  // ‚úÖ camelCase!
    minOrderAmount: parsePrice(zone.min_order_amount ?? zone["Min Order Amount"]),
    isAvailable: true,
    availableIntervals: parseIntervals(zone.available_intervals),
  }))
```

–†–µ–∑—É–ª—å—Ç–∞—Ç:
- **–ö–ª—é—á–∏ –≤ camelCase** –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ JavaScript/TypeScript
- –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (—á–∏—Å–ª–∞, –∞ –Ω–µ —Å—Ç—Ä–æ–∫–∏)
- –ß–∏—Å—Ç—ã–µ, –≥–æ—Ç–æ–≤—ã–µ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –¥–∞–Ω–Ω—ã–µ

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
–ê–¥–º–∏—Ä–∞–ª—Ç–µ–π—Å–∫–∏–π —Ä–∞–π–æ–Ω    –ë–µ—Å–ø–ª–∞—Ç–Ω–æ  ‚ùå
–í–∞—Å–∏–ª–µ–æ—Å—Ç—Ä–æ–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω  –ë–µ—Å–ø–ª–∞—Ç–Ω–æ  ‚ùå
–í—ã–±–æ—Ä–≥—Å–∫–∏–π —Ä–∞–π–æ–Ω        –ë–µ—Å–ø–ª–∞—Ç–Ω–æ  ‚ùå
–ö–∞–ª–∏–Ω–∏–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω       –ë–µ—Å–ø–ª–∞—Ç–Ω–æ  ‚ùå
```

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
–ê–¥–º–∏—Ä–∞–ª—Ç–µ–π—Å–∫–∏–π —Ä–∞–π–æ–Ω    250‚ÇΩ  ‚úÖ
–í–∞—Å–∏–ª–µ–æ—Å—Ç—Ä–æ–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω  200‚ÇΩ  ‚úÖ
–í—ã–±–æ—Ä–≥—Å–∫–∏–π —Ä–∞–π–æ–Ω        300‚ÇΩ  ‚úÖ
–ö–∞–ª–∏–Ω–∏–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω       –ë–µ—Å–ø–ª–∞—Ç–Ω–æ  ‚úÖ (–µ—Å–ª–∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ 0)
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –≤—ã–±–æ—Ä —Ä–∞–π–æ–Ω–∞ (–∏–ª–∏ –Ω–∞—á–Ω–∏—Ç–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –∫–∞–∫ –≥–æ—Å—Ç—å)
3. –í –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ –≤—ã–±–æ—Ä–∞ —Ä–∞–π–æ–Ω–∞ –¥–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Ü–µ–Ω—ã –¥–æ—Å—Ç–∞–≤–∫–∏

### –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:

- –†–∞–π–æ–Ω—ã —Å –Ω–µ–Ω—É–ª–µ–≤–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç—å—é –¥–æ—Å—Ç–∞–≤–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ü–µ–Ω—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, "250‚ÇΩ")
- –†–∞–π–æ–Ω—ã —Å –Ω—É–ª–µ–≤–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç—å—é –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ"
- –ü–æ–¥—Å–∫–∞–∑–∫–∞ –≤–Ω–∏–∑—É: "üí° –î–æ—Å—Ç–∞–≤–∫–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è –ø—Ä–∏ –∑–∞–∫–∞–∑–µ –æ—Ç 2300‚ÇΩ"

---

## üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –§–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö –≤ —Å–∏—Å—Ç–µ–º–µ:

1. **NocoDB** (–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö):
   - –ö–ª—é—á–∏: `"Delivery Fee"`, `"Min Order Amount"` (—Å –ø—Ä–æ–±–µ–ª–∞–º–∏ –∏ –∑–∞–≥–ª–∞–≤–Ω—ã–º–∏)
   - –ó–Ω–∞—á–µ–Ω–∏—è: —Å—Ç—Ä–æ–∫–∏ –∏–ª–∏ —á–∏—Å–ª–∞

2. **API /api/menu** (—Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ):
   - –ö–ª—é—á–∏: `deliveryFee`, `minOrderAmount` (camelCase)
   - –ó–Ω–∞—á–µ–Ω–∏—è: —á–∏—Å–ª–∞

3. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** (—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥):
   - –¢–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –æ–±–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

### –ü–æ—Ä—è–¥–æ–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ:

```typescript
const deliveryFee = 
  (zone as any).deliveryFee ||      // 1Ô∏è‚É£ –ò–∑ /api/menu (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
  zone["Delivery Fee"] ||           // 2Ô∏è‚É£ –ù–∞–ø—Ä—è–º—É—é –∏–∑ NocoDB
  zone.delivery_fee ||              // 3Ô∏è‚É£ Snake_case (—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)
  0                                 // 4Ô∏è‚É£ Fallback
```

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `components/district-selection-modal.tsx` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º —Ä–∞–π–æ–Ω–æ–≤
- `lib/nocodb.ts` - —Ç–∏–ø—ã –¥–ª—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ NocoDB
- `app/api/menu/route.ts` - API endpoint, –∫–æ—Ç–æ—Ä—ã–π —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ

---

## üìù Commit Message

```
fix: –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ü–µ–Ω—ã –¥–æ—Å—Ç–∞–≤–∫–∏ –≤ –≤—ã–±–æ—Ä–µ —Ä–∞–π–æ–Ω–∞

- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ deliveryFee –≤ camelCase –∏–∑ /api/menu
- –û–±–Ω–æ–≤–ª–µ–Ω —Ç–∏–ø NocoDBDeliveryZone
- –¢–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ü–µ–Ω—ã –≤—Å–µ—Ö —Ä–∞–π–æ–Ω–æ–≤
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: –≤—Å–µ —Ä–∞–π–æ–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏ "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ"
```

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –∏ –≥–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É. –¶–µ–Ω—ã –¥–æ—Å—Ç–∞–≤–∫–∏ —Ç–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!


