# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ü—Ä–æ–º–æ–∫–æ–¥—ã –∏ ReferenceError: Home - 2026-01-15

## üêõ –ü—Ä–æ–±–ª–µ–º—ã (–∏–∑ –±–∞–≥-—Ä–µ–ø–æ—Ä—Ç–æ–≤):

### 1. –ü—Ä–æ–º–æ–∫–æ–¥—ã –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç
**Report ID:** 2026-01-15T15-36-36-903Z  
**User:** 122  
**–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:** "–ø—Ä–æ–≤–µ—Ä—å –ø—Ä–æ–º–æ–∫–æ–¥—ã, –æ–Ω–∏ –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç"

**–ü—Ä–∏—á–∏–Ω–∞:**
- –í `components/order-modal.tsx` —Ñ—É–Ω–∫—Ü–∏—è `handleApplyPromo` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞ —Ö–∞—Ä–¥–∫–æ–¥ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤ (WELCOME10, SALE20, FREE100) –≤–º–µ—Å—Ç–æ –≤—ã–∑–æ–≤–∞ API
- –ü—Ä–æ–º–æ–∫–æ–¥—ã –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö NocoDB –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–ª–∏—Å—å
- –ù–µ –ø—Ä–æ–≤–µ—Ä—è–ª–∏—Å—å –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å –¥–∞—Ç, –ª–∏–º–∏—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∑–∞–∫–∞–∑–∞

### 2. ReferenceError: Can't find variable: Home
**Report ID:** 2026-01-15T05-25-20-176Z  
**User:** guest (iPhone Safari)  
**–û—à–∏–±–∫–∞:** "ReferenceError: Can't find variable: Home"

**–ü—Ä–∏—á–∏–Ω–∞:**
- –ö–æ–Ω—Ñ–ª–∏–∫—Ç –∏–º–µ–Ω: `Home` –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª—Å—è –∏–∑ `lucide-react` –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤ `app/page.tsx` –µ—Å—Ç—å `export default function Home()`
- –ù–∞ iPhone Safari —ç—Ç–æ –≤—ã–∑—ã–≤–∞–ª–æ –æ—à–∏–±–∫—É –ø—Ä–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–∏ –∏–º–µ–Ω –º–æ–¥—É–ª–µ–π –≤ –º–∏–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –∫–æ–¥–µ

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ:

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤

**–§–∞–π–ª:** `components/order-modal.tsx`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `fetchPromoCode` –∏ `NocoDBPromoCode` –∏–∑ `lib/nocodb`
- –ü–µ—Ä–µ–ø–∏—Å–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `handleApplyPromo` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API –≤–º–µ—Å—Ç–æ —Ö–∞—Ä–¥–∫–æ–¥–∞
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏:
  - ‚úÖ –í–∞–ª–∏–¥–Ω–æ—Å—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥–∞ (–∞–∫—Ç–∏–≤–µ–Ω –ª–∏)
  - ‚úÖ –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –¥–µ–π—Å—Ç–≤–∏—è (`valid_from`)
  - ‚úÖ –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è (`valid_until`)
  - ‚úÖ –õ–∏–º–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π (`usage_limit` vs `times_used`)
  - ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∑–∞–∫–∞–∑–∞ (`min_order_amount`)
  - ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç —Å–∫–∏–¥–∫–∏ (–ø—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è –∏–ª–∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è)
  - ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–∏–¥–∫–∞ –¥–ª—è –ø—Ä–æ—Ü–µ–Ω—Ç–Ω—ã—Ö –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤ (`max_discount`)

**–ö–æ–¥:**
```typescript
// –ò–º–ø–æ—Ä—Ç
import { fetchPromoCode, type NocoDBPromoCode } from "@/lib/nocodb"

// –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è handleApplyPromo (async)
const handleApplyPromo = async () => {
  // ... –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–≤–æ–¥–∞ ...
  
  const promo = await fetchPromoCode(code)
  
  // –ü—Ä–æ–≤–µ—Ä–∫–∏ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏:
  // - –¥–∞—Ç—ã –Ω–∞—á–∞–ª–∞/–æ–∫–æ–Ω—á–∞–Ω–∏—è
  // - –ª–∏–º–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π
  // - –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∑–∞–∫–∞–∑–∞
  
  // –†–∞—Å—á–µ—Ç —Å–∫–∏–¥–∫–∏:
  // - –ø—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è: totalBeforeDiscount * (discountValue / 100)
  // - —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è: discountValue
  // - –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ max_discount –¥–ª—è –ø—Ä–æ—Ü–µ–Ω—Ç–Ω—ã—Ö
}
```

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ReferenceError: Home

**–§–∞–π–ª—ã:**
- `components/info-banner.tsx`
- `components/footer.tsx`
- `components/pwa/InstallPrompt.tsx`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω –∏–º–ø–æ—Ä—Ç `Home` –∏–∑ `lucide-react` –≤ `HomeIcon` –≤–æ –≤—Å–µ—Ö —Ñ–∞–π–ª–∞—Ö
- –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `<Home />` –Ω–∞ `<HomeIcon />`

**–ö–æ–¥:**
```typescript
// –ë—ã–ª–æ:
import { ArrowRight, CheckCircle2, Home, Plus } from 'lucide-react'
<Home className="w-8 h-8 text-black" />

// –°—Ç–∞–ª–æ:
import { ArrowRight, CheckCircle2, Home as HomeIcon, Plus } from 'lucide-react'
<HomeIcon className="w-8 h-8 text-black" />
```

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç:

### –î–æ:
- ‚ùå –ü—Ä–æ–º–æ–∫–æ–¥—ã —Ä–∞–±–æ—Ç–∞–ª–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ö–∞—Ä–¥–∫–æ–¥ –∑–Ω–∞—á–µ–Ω–∏–π (WELCOME10, SALE20, FREE100)
- ‚ùå –ü—Ä–æ–º–æ–∫–æ–¥—ã –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø—Ä–∏–º–µ–Ω—è–ª–∏—Å—å
- ‚ùå –û—à–∏–±–∫–∞ "ReferenceError: Can't find variable: Home" –Ω–∞ iPhone Safari

### –ü–æ—Å–ª–µ:
- ‚úÖ –ü—Ä–æ–º–æ–∫–æ–¥—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö NocoDB
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å (–¥–∞—Ç—ã, –ª–∏–º–∏—Ç—ã, –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞)
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Å–∫–∏–¥–∫–∞ (–ø—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è/—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è)
- ‚úÖ –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –∏–º–µ–Ω —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º Home
- ‚úÖ –û—à–∏–±–∫–∞ –Ω–∞ iPhone Safari –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞

---

## üöÄ –î–µ–ø–ª–æ–π:

**–í—Ä–µ–º—è:** 2026-01-15  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
1. `components/order-modal.tsx` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–º–æ–∫–æ–¥—ã
2. `components/info-banner.tsx` - –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω Home ‚Üí HomeIcon
3. `components/footer.tsx` - –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω Home ‚Üí HomeIcon
4. `components/pwa/InstallPrompt.tsx` - –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω Home ‚Üí HomeIcon

**–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–µ–ø–ª–æ—è:**
```bash
git add components/order-modal.tsx components/info-banner.tsx components/footer.tsx components/pwa/InstallPrompt.tsx
git commit -m "fix: –ø—Ä–æ–º–æ–∫–æ–¥—ã –∏–∑ –ë–î + –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –∫–æ–Ω—Ñ–ª–∏–∫—Ç –∏–º–µ–Ω Home

- –ó–∞–º–µ–Ω–µ–Ω —Ö–∞—Ä–¥–∫–æ–¥ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤ –Ω–∞ –≤—ã–∑–æ–≤ API fetchPromoCode
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ (–¥–∞—Ç—ã, –ª–∏–º–∏—Ç—ã, –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞)
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –∫–æ–Ω—Ñ–ª–∏–∫—Ç –∏–º–µ–Ω: Home –∏–∑ lucide-react –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω –≤ HomeIcon
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ ReferenceError –Ω–∞ iPhone Safari

Closes: #promo-codes #home-error"
git push origin main
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

### –ü—Ä–æ–º–æ–∫–æ–¥—ã:
1. –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ (`/admin/promo`)
2. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ –∑–∞–∫–∞–∑–∞
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å:
   - ‚úÖ –ü—Ä–æ–º–æ–∫–æ–¥ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –µ—Å–ª–∏ –∞–∫—Ç–∏–≤–µ–Ω
   - ‚úÖ –ü—Ä–æ–º–æ–∫–æ–¥ –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –µ—Å–ª–∏ –∏—Å—Ç–µ–∫ —Å—Ä–æ–∫
   - ‚úÖ –ü—Ä–æ–º–æ–∫–æ–¥ –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –µ—Å–ª–∏ —Å—É–º–º–∞ –º–µ–Ω—å—à–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π
   - ‚úÖ –°–∫–∏–¥–∫–∞ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ (–ø—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è/—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è)

### ReferenceError: Home:
1. –û—Ç–∫—Ä—ã—Ç—å —Å–∞–π—Ç –Ω–∞ iPhone Safari
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å:
   - ‚úÖ –ù–µ—Ç –æ—à–∏–±–∫–∏ "ReferenceError: Can't find variable: Home"
   - ‚úÖ –ò–∫–æ–Ω–∫–∞ Home –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–Ω–∞—Ö —É—Å—Ç–∞–Ω–æ–≤–∫–∏ PWA

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è:

- –ü—Ä–æ–º–æ–∫–æ–¥—ã —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –ø–µ—Ä–µ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–∫–∞–∑–∞ –ø—Ä–æ–º–æ–∫–æ–¥ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ø–æ–ª–µ `promo_code` –∏ `promo_discount`
- –î–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è —Å—á–µ—Ç—á–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π –Ω—É–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å `incrementPromoCodeUsage` –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞ (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ `app/api/orders/route.ts`)
