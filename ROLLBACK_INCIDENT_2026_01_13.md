# üö® –ò–ù–¶–ò–î–ï–ù–¢ –ò –û–¢–ö–ê–¢ - 13 —è–Ω–≤–∞—Ä—è 2026

## ‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

**–í—Ä–µ–º—è –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞:** 15:04 UTC  
**–í—Ä–µ–º—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è:** 15:06 UTC  
**Downtime:** ~2 –º–∏–Ω—É—Ç—ã  

---

## üêõ –ü—Ä–æ–±–ª–µ–º–∞

### –°–∏–º–ø—Ç–æ–º—ã:
–°–∞–π—Ç –Ω–µ –∑–∞–≥—Ä—É–∂–∞–ª—Å—è, –æ—à–∏–±–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:

```javascript
/_next/static/chunks/7e21d23f15b87e1b.js:1  
Failed to load resource: the server responded with a status of 500 ()

turbopack-fc5efc49e472a2c9.js:1 
Uncaught ChunkLoadError: Failed to load chunk /_next/static/chunks/7e21d23f15b87e1b.js from module 64893
```

### –ü—Ä–∏—á–∏–Ω–∞:
–ö–æ–º–º–∏—Ç `476d34ad` (—É–±—Ä–∞–Ω—ã —Å–∫—Ä–∏–Ω—à–æ—Ç—ã + —Å–º—è–≥—á–µ–Ω—ã —Ä–∞–º–∫–∏) –ø—Ä–∏–≤–µ–ª –∫ –æ—à–∏–±–∫–µ –∑–∞–≥—Ä—É–∑–∫–∏ Next.js chunk.

**–ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤:**
- –£–¥–∞–ª–µ–Ω–∏–∏ –∏–º–ø–æ—Ä—Ç–∞ `html2canvas` –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –í–æ–∑–º–æ–∂–Ω–æ –≥–¥–µ-—Ç–æ –æ—Å—Ç–∞–ª–∞—Å—å —Å—Å—ã–ª–∫–∞ –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- Next.js –Ω–µ —Å–º–æ–≥ —Å–æ–±—Ä–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π chunk

---

## üîß –†–µ—à–µ–Ω–∏–µ: –û—Ç–∫–∞—Ç

### –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:

1. **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞** (15:04):
   ```bash
   pm2 status     # ‚úÖ online (–Ω–æ chunk –Ω–µ —Ä–∞–±–æ—Ç–∞–ª)
   pm2 logs       # –°—Ç–∞—Ä—ã–µ –ª–æ–≥–∏, –Ω–æ–≤—ã—Ö –æ—à–∏–±–æ–∫ –Ω–µ—Ç
   curl ogfoody.ru # timeout/500 –Ω–∞ chunks
   ```

2. **–û—Ç–∫–∞—Ç –Ω–∞ —Ä–∞–±–æ—á—É—é –≤–µ—Ä—Å–∏—é** (15:05):
   ```bash
   cd /var/www/ogfoody
   git log --oneline -10         # –ü–æ—Å–º–æ—Ç—Ä–µ–ª–∏ –∏—Å—Ç–æ—Ä–∏—é
   git reset --hard ed7f4109     # –û—Ç–∫–∞—Ç –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–±–æ—á–∏–π
   npm run build                 # ‚úÖ Compiled successfully in 13.8s
   pm2 restart ogfoody           # ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞** (15:06):
   ```bash
   curl -I https://ogfoody.ru   # ‚úÖ HTTP/2 200
   pm2 status                   # ‚úÖ online
   ```

---

## üìä –¢–∞–π–º–ª–∞–π–Ω

| –í—Ä–µ–º—è | –°–æ–±—ã—Ç–∏–µ |
|-------|---------|
| 14:58 | –î–µ–ø–ª–æ–π `476d34ad` (—Å–∫—Ä–∏–Ω—à–æ—Ç—ã + —Ä–∞–º–∫–∏) |
| 15:04 | –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –æ—à–∏–±–∫–∞ ChunkLoadError |
| 15:05 | –ù–∞—á–∞—Ç –æ—Ç–∫–∞—Ç –Ω–∞ `ed7f4109` |
| 15:05 | Build –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ |
| 15:06 | PM2 –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω |
| 15:06 | –°–∞–π—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ‚úÖ |

**Total downtime:** ~2 –º–∏–Ω—É—Ç—ã

---

## ‚úÖ –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### Production:
- **Commit:** `ed7f4109` (—Ç–æ–ª—å–∫–æ –∏–∫–æ–Ω–∫–∞ CheckCircle2)
- **Status:** ‚úÖ **ONLINE**
- **Build:** –£—Å–ø–µ—à–Ω—ã–π
- **PM2:** Running

### –û—Ç–∫–∞—á–µ–Ω–æ:
- ‚ùå –£–¥–∞–ª–µ–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ (commit `476d34ad`)
- ‚ùå –°–º—è–≥—á–µ–Ω–∏–µ —á–µ—Ä–Ω—ã—Ö —Ä–∞–º–æ–∫ (commit `476d34ad`)

### –†–∞–±–æ—Ç–∞–µ—Ç:
- ‚úÖ –ò–∫–æ–Ω–∫–∞ CheckCircle2 –≤–º–µ—Å—Ç–æ Save (commit `ed7f4109`)
- ‚úÖ –í—Å–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

---

## üîç Root Cause Analysis

### –ß—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫:

1. **–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –ù–µ –ø—Ä–æ–≤–µ—Ä–∏–ª–∏ —Å–∞–π—Ç —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
   - Build –ø—Ä–æ—à–µ–ª —É—Å–ø–µ—à–Ω–æ, –Ω–æ runtime –æ—à–∏–±–∫–∞

2. **–£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   - –£–¥–∞–ª–∏–ª–∏ `html2canvas` –∏–º–ø–æ—Ä—Ç
   - –í–æ–∑–º–æ–∂–Ω–æ –≥–¥–µ-—Ç–æ –æ—Å—Ç–∞–ª–∞—Å—å —Å—Å—ã–ª–∫–∞ –≤ –∫–æ–¥–µ
   - Next.js chunk system –Ω–µ —Å–º–æ–≥ —Ä–∞–∑—Ä–µ—à–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

3. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:**
   - –ù–µ –æ—Ç–∫—Ä—ã–ª–∏ —Å–∞–π—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
   - –ü–æ–ª–∞–≥–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –Ω–∞ "compiled successfully"

---

## üìã Lessons Learned

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å –í–°–ï–ì–î–ê:
1. ‚úÖ –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è **–°–†–ê–ó–£** –æ—Ç–∫—Ä—ã—Ç—å —Å–∞–π—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏
3. ‚úÖ –ü–æ–¥–æ–∂–¥–∞—Ç—å 30 —Å–µ–∫—É–Ω–¥ –∏ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–º–µ–Ω—é, –∑–∞–∫–∞–∑)

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
1. ‚úÖ –ò—Å–∫–∞—Ç—å –≤—Å–µ –∏–º–ø–æ—Ä—Ç—ã: `grep -r "html2canvas" .`
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å lazy loading
4. ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

### –£–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞:
1. üìù –î–æ–±–∞–≤–∏—Ç—å –≤ workflow –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É —Å–∞–π—Ç–∞
2. üîç –î–æ–±–∞–≤–∏—Ç—å health check endpoint
3. üö® –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (UptimeRobot, etc.)
4. üìä –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ chunk errors –≤ Sentry

---

## üîÑ Plan –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± —É–±—Ä–∞—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç—ã:

1. **–õ–æ–∫–∞–ª—å–Ω–æ:**
   ```bash
   # –ù–∞–π—Ç–∏ –≤—Å–µ –∏–º–ø–æ—Ä—Ç—ã
   grep -r "html2canvas" .
   grep -r "captureScreenshot" .
   
   # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã
   grep -r "import(" . | grep -i "canvas\|screenshot"
   ```

2. **–£–±—Ä–∞—Ç—å –∞–∫–∫—É—Ä–∞—Ç–Ω–æ:**
   - –ó–∞–º–µ–Ω–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –Ω–∞ –∑–∞–≥–ª—É—à–∫—É (–Ω–µ —É–¥–∞–ª—è—Ç—å)
   - –û—Å—Ç–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
   - –ò–ª–∏ —É–±—Ä–∞—Ç—å –≤–µ–∑–¥–µ –≤–∫–ª—é—á–∞—è –≤—Å–µ –≤—ã–∑–æ–≤—ã

3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
   ```bash
   npm run dev      # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ
   npm run build    # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–±–æ—Ä–∫—É
   # –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
   # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å
   ```

4. **–î–µ–ø–ª–æ–∏—Ç—å:**
   ```bash
   # –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –°–†–ê–ó–£:
   curl -I https://ogfoody.ru
   # –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
   # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å (F12)
   # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Network tab
   ```

---

## üìÅ –û—Ç–∫–∞—á–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

–≠—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ù–ï –≤ production:

1. `hooks/useDebugRecorder.tsx` - —É–¥–∞–ª–µ–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤
2. `app/page.tsx` - —Å–º—è–≥—á–µ–Ω–∏–µ —Ä–∞–º–æ–∫
3. `FIX_REMOVE_SCREENSHOTS_AND_BORDERS_2026_01_13.md`
4. `DEPLOY_DOUBLE_FIX_2026_01_13.md`
5. `BUG_FIXES_2026_01_13.md` (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–≥ #5)

---

## üéØ Action Items

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ:
- ‚úÖ –°–∞–π—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- ‚úÖ Cleanup –≤—ã–ø–æ–ª–Ω–µ–Ω
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞

### –°–∫–æ—Ä–æ:
- [ ] –õ–æ–∫–∞–ª—å–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤
- [ ] –ù–∞–π—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± —É–±—Ä–∞—Ç—å html2canvas
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ª–æ–º–∞–µ—Ç chunk loading
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç—å

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ:
- [ ] –î–æ–±–∞–≤–∏—Ç—å health check endpoint
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ uptime
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
- [ ] –í–Ω–µ–¥—Ä–∏—Ç—å staging environment

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

**–í–∞–∂–Ω–æ:** –ë–∞–≥ —Å —á–µ—Ä–Ω—ã–º–∏ —Ä–∞–º–∫–∞–º–∏ –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –∞–∫—Ç—É–∞–ª–µ–Ω, –Ω–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª–µ–µ —Ç—â–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞.

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –ò–∑—É—á–∏—Ç—å –ø–æ—á–µ–º—É chunk –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
2. –ü—Ä–∞–≤–∏–ª—å–Ω–æ —É–±—Ä–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ
4. –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –∞–∫–∫—É—Ä–∞—Ç–Ω–æ

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–Ω—Ü–∏–¥–µ–Ω—Ç –∑–∞–∫—Ä—ã—Ç, —Å–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç  
**Downtime:** 2 –º–∏–Ω—É—Ç—ã  
**–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:** 15:06 UTC  


