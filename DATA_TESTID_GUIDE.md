# üé≠ data-testid - –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –¥–ª—è E2E —Ç–µ—Å—Ç–æ–≤

**–î–∞—Ç–∞:** 10.01.2026  
**–°—Ç–∞—Ç—É—Å:** –ê–∫—Ç—É–∞–ª—å–Ω–æ  

---

## üéØ –ó–∞—á–µ–º –Ω—É–∂–Ω—ã data-testid?

- ‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–æ–≤** - –Ω–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç —Ç–µ–∫—Å—Ç–æ–≤ –∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- ‚úÖ **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å** - –ø–æ–Ω—è—Ç–Ω–æ, —á—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ–º
- ‚úÖ **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥-safe** - –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å CSS –∫–ª–∞—Å—Å—ã –±–µ–∑ –ø–æ–ª–æ–º–∫–∏ —Ç–µ—Å—Ç–æ–≤
- ‚úÖ **–ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫** - —Å–µ–ª–µ–∫—Ç–æ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ

---

## üìã –¢–µ–∫—É—â–∏–µ data-testid –≤ –ø—Ä–æ–µ–∫—Ç–µ

### üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (`components/auth-modal.tsx`)

| –≠–ª–µ–º–µ–Ω—Ç | data-testid | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-------------|----------|
| Input —Ç–µ–ª–µ—Ñ–æ–Ω–∞ | `auth-phone-input` | –ü–æ–ª–µ –≤–≤–æ–¥–∞ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ |
| –ö–Ω–æ–ø–∫–∞ –°–ú–° | `auth-send-sms-btn` | –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–∞ –ø–æ –°–ú–° |
| –ö–Ω–æ–ø–∫–∞ –ó–≤–æ–Ω–æ–∫ | `auth-send-call-btn` | –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–¥–∞ –∑–≤–æ–Ω–∫–æ–º |
| Input –∫–æ–¥–∞ | `auth-code-input` | –ü–æ–ª–µ –≤–≤–æ–¥–∞ –∫–æ–¥–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è |
| –ö–Ω–æ–ø–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è | `auth-verify-btn` | –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–≤–µ–¥–µ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ |

### üè† –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (`app/page.tsx`)

| –≠–ª–µ–º–µ–Ω—Ç | data-testid | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-------------|----------|
| –ö–Ω–æ–ø–∫–∞ –≤—Ö–æ–¥–∞ | `login-btn` | –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª–∫—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ |
| –ö–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞ | `logout-btn` | –í—ã—Ö–æ–¥ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞ |
| –ö–∞–ª–µ–Ω–¥–∞—Ä—å (view) | `view-calendar-btn` | –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –≤–∏–¥ –∫–∞–ª–µ–Ω–¥–∞—Ä—è |
| –ò—Å—Ç–æ—Ä–∏—è (view) | `view-history-btn` | –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –∏—Å—Ç–æ—Ä–∏—é –∑–∞–∫–∞–∑–æ–≤ |

---

## üíª –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Ç–µ—Å—Ç–∞—Ö

### Playwright

```typescript
// ‚ùå –°–¢–ê–†–´–ô –°–ü–û–°–û–ë (–Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–π)
await page.locator('button:has-text("–í–æ–π—Ç–∏")').click()

// ‚úÖ –ù–û–í–´–ô –°–ü–û–°–û–ë (—Å—Ç–∞–±–∏–ª—å–Ω—ã–π)
await page.getByTestId('login-btn').click()
```

### –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

```typescript
async function loginUser(page: Page, phone: string = '+79991234567') {
  // –û—Ç–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª–∫—É –≤—Ö–æ–¥–∞
  await page.getByTestId('login-btn').click()
  
  // –í–≤–æ–¥–∏–º —Ç–µ–ª–µ—Ñ–æ–Ω
  await page.getByTestId('auth-phone-input').fill(phone)
  
  // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –°–ú–°
  await page.getByTestId('auth-send-sms-btn').click()
  
  // –ü–æ–ª—É—á–∞–µ–º –∫–æ–¥ –∏–∑ –¥–µ–º–æ-–±–∞–Ω–Ω–µ—Ä–∞
  const codeText = await page.locator('text=/–î–µ–º–æ-–∫–æ–¥:/').textContent()
  const code = codeText?.match(/\d{4}/)?.[0]
  
  // –í–≤–æ–¥–∏–º –∫–æ–¥
  await page.getByTestId('auth-code-input').fill(code)
  
  // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ–º
  await page.getByTestId('auth-verify-btn').click()
}
```

---

## üõ†Ô∏è –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π data-testid

### 1. –û–ø—Ä–µ–¥–µ–ª–∏ –ø–∞—Ç—Ç–µ—Ä–Ω –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è

**–§–æ—Ä–º–∞—Ç:** `{–∫–æ–º–ø–æ–Ω–µ–Ω—Ç}-{—ç–ª–µ–º–µ–Ω—Ç}-{—Ç–∏–ø}`

–ü—Ä–∏–º–µ—Ä—ã:
- `auth-phone-input` - –∏–Ω–ø—É—Ç —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –≤ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- `order-submit-btn` - –∫–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–∫–∞–∑–∞
- `profile-name-input` - –ø–æ–ª–µ –∏–º–µ–Ω–∏ –≤ –ø—Ä–æ—Ñ–∏–ª–µ

### 2. –î–æ–±–∞–≤—å –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

```tsx
<Button 
  onClick={handleSubmit}
  data-testid="order-submit-btn"
>
  –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑
</Button>
```

### 3. –ò—Å–ø–æ–ª—å–∑—É–π –≤ —Ç–µ—Å—Ç–µ

```typescript
await page.getByTestId('order-submit-btn').click()
```

### 4. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π

–î–æ–±–∞–≤—å –≤ —ç—Ç—É —Ç–∞–±–ª–∏—Ü—É! üëÜ

---

## üìù Best Practices

### ‚úÖ DO (–•–æ—Ä–æ—à–æ)

```tsx
// –ü–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞
<button data-testid="auth-login-btn">–í–æ–π—Ç–∏</button>
<input data-testid="profile-email-input" />

// –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
const TESTID = {
  AUTH: {
    LOGIN_BTN: 'auth-login-btn',
    PHONE_INPUT: 'auth-phone-input'
  }
}
```

### ‚ùå DON'T (–ü–ª–æ—Ö–æ)

```tsx
// –°–ª–∏—à–∫–æ–º –æ–±—â–∏–µ
<button data-testid="btn1">...</button>

// –ó–∞–≤–∏—Å—è—Ç –æ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
<button data-testid="–∫–Ω–æ–ø–∫–∞-–≤—Ö–æ–¥–∞">...</button>

// –°–º–µ—à–∏–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–æ–≤
<button data-testid="AuthLoginButton">...</button>
```

---

## üéØ –ö–æ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è—Ç—å data-testid?

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:
- ‚úÖ –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π (Submit, Cancel, Delete)
- ‚úÖ –§–æ—Ä–º—ã –∏ –∏–Ω–ø—É—Ç—ã
- ‚úÖ –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –∏ –¥–∏–∞–ª–æ–≥–∏
- ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
- ‚úÖ –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –¥–ª—è –±–∏–∑–Ω–µ—Å–∞ —ç–ª–µ–º–µ–Ω—Ç—ã

### –ú–æ–∂–Ω–æ –Ω–µ –¥–æ–±–∞–≤–ª—è—Ç—å:
- ‚ö™ –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
- ‚ö™ –°—Ç–∞—Ç–∏—á–Ω—ã–π —Ç–µ–∫—Å—Ç
- ‚ö™ Layout —ç–ª–µ–º–µ–Ω—Ç—ã (div, section)

---

## üîç –û—Ç–ª–∞–¥–∫–∞ —Ç–µ—Å—Ç–æ–≤

### –ü–æ–∏—Å–∫ —ç–ª–µ–º–µ–Ω—Ç–∞ –ø–æ testid –≤ DevTools

```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
document.querySelector('[data-testid="auth-login-btn"]')
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è testid

```typescript
// –í Playwright
const loginBtn = page.getByTestId('login-btn')
console.log(await loginBtn.isVisible()) // true/false
```

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### TODO: –î–æ–±–∞–≤–∏—Ç—å data-testid –≤:
- [ ] `components/order-modal.tsx` - –∫–Ω–æ–ø–∫–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞
- [ ] `components/profile-modal.tsx` - –ø–æ–ª—è –ø—Ä–æ—Ñ–∏–ª—è
- [ ] `components/payment-modal.tsx` - –∫–Ω–æ–ø–∫–∏ –æ–ø–ª–∞—Ç—ã
- [ ] `components/district-selection-modal.tsx` - –≤—ã–±–æ—Ä —Ä–∞–π–æ–Ω–∞
- [ ] –ö–∞—Ä—Ç–æ—á–∫–∏ –±–ª—é–¥ –≤ –º–µ–Ω—é

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Playwright: getByTestId](https://playwright.dev/docs/api/class-page#page-get-by-test-id)
- [Testing Library: Best Practices](https://testing-library.com/docs/queries/bytestid/)
- [data-* MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/data-*)

---

**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 10.01.2026  
**–°–ª–µ–¥—É—é—â–∏–π review:** –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤



