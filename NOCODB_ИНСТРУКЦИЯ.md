# üóÑÔ∏è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: –†–∞–±–æ—Ç–∞ —Å NocoDB

## üîê –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ NocoDB –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
https://noco.povarnakolesah.ru
```

**‚úÖ HTTPS —Ä–∞–±–æ—Ç–∞–µ—Ç!** –°–∞–π—Ç –∑–∞—â–∏—â—ë–Ω SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º Let's Encrypt

### 2. –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π email –∏ –ø–∞—Ä–æ–ª—å
- –ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç (–µ—Å–ª–∏ –ø–æ—Ç–µ—Ä—è–ª–∏ –¥–æ—Å—Ç—É–ø)

---

## üìä –í–∞—à–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö "FooD"

–£ –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –±–∞–∑–∞ **FooD** —Å –ø–æ–ª–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –∏ –¥–∞–Ω–Ω—ã–º–∏!

### ‚úÖ –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã (–≤—Å–µ –Ω–∞ –º–µ—Å—Ç–µ!):

#### 1. **Meals** (–ë–ª—é–¥–∞) - 406 –∑–∞–ø–∏—Å–µ–π
–ü–æ–ª—è:
- `name` - –ù–∞–∑–≤–∞–Ω–∏–µ –±–ª—é–¥–∞
- `category` - –ö–∞—Ç–µ–≥–æ—Ä–∏—è (breakfast, lunch_soup, lunch_main, dinner_soup, dinner_main, lunch_salad, dinner_salad, garnish)
- `ingredients` - –°–æ—Å—Ç–∞–≤
- `description` - –û–ø–∏—Å–∞–Ω–∏–µ
- `price_single`, `price_medium`, `price_large` - –¶–µ–Ω—ã
- `weight_single`, `weight_medium`, `weight_large` - –í–µ—Å (–≥—Ä–∞–º–º—ã)
- `image` - URL –∫–∞—Ä—Ç–∏–Ω–∫–∏
- `needs_garnish` - –ù—É–∂–µ–Ω –ª–∏ –≥–∞—Ä–Ω–∏—Ä (boolean)
- `calories`, `protein`, `fats`, `carbs` - –ö–ë–ñ–£
- `is_current_week`, `is_next_week` - –ü—Ä–∏–∑–Ω–∞–∫ –Ω–µ–¥–µ–ª–∏

#### 2. **Extras** (–î–æ–ø–æ–ª–Ω–µ–Ω–∏—è) - 76 –∑–∞–ø–∏—Å–µ–π
–ü–æ–ª—è:
- `name` - –ù–∞–∑–≤–∞–Ω–∏–µ
- `category` - –ö–∞—Ç–µ–≥–æ—Ä–∏—è (drink, sauce, dessert, snack)
- `price` - –¶–µ–Ω–∞
- `image` - URL –∫–∞—Ä—Ç–∏–Ω–∫–∏
- `is_available` - –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å

#### 3. **Delivery_Zones** (–ó–æ–Ω—ã –¥–æ—Å—Ç–∞–≤–∫–∏) - 20 –∑–∞–ø–∏—Å–µ–π
–ü–æ–ª—è:
- `name` - –ù–∞–∑–≤–∞–Ω–∏–µ –∑–æ–Ω—ã
- `base_price` - –ë–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∏
- `min_order_free` - –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –¥–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏

#### 4. **Users** (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏) - 17 –∑–∞–ø–∏—Å–µ–π
–ü–æ–ª—è:
- `telegram_id` - ID –≤ Telegram (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π)
- `first_name`, `last_name` - –ò–º—è, —Ñ–∞–º–∏–ª–∏—è
- `username` - Username –≤ Telegram
- `phone` - –¢–µ–ª–µ—Ñ–æ–Ω
- `registration_date` - –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- `loyalty_points` - –ë–∞–ª–ª—ã –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏
- `is_banned` - –ó–∞–±–∞–Ω–µ–Ω –ª–∏

#### 5. **Orders** (–ó–∞–∫–∞–∑—ã) - 28 –∑–∞–ø–∏—Å–µ–π
–ü–æ–ª—è:
- `user_id` - –°–≤—è–∑—å —Å Users
- `order_date` - –î–∞—Ç–∞ –∑–∞–∫–∞–∑–∞
- `delivery_date` - –î–∞—Ç–∞ –¥–æ—Å—Ç–∞–≤–∫–∏
- `delivery_time` - –í—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏
- `delivery_address` - –ê–¥—Ä–µ—Å
- `delivery_zone_id` - –ó–æ–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∏
- `total_amount` - –û–±—â–∞—è —Å—É–º–º–∞
- `delivery_cost` - –°—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏
- `status` - –°—Ç–∞—Ç—É—Å (pending, confirmed, preparing, delivering, completed, cancelled)
- `payment_method` - –ú–µ—Ç–æ–¥ –æ–ø–ª–∞—Ç—ã
- `notes` - –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

#### 6. **Order_Persons** (–ü–µ—Ä—Å–æ–Ω—ã –≤ –∑–∞–∫–∞–∑–µ) - 447 –∑–∞–ø–∏—Å–µ–π
–ü–æ–ª—è:
- `order_id` - –°–≤—è–∑—å —Å Orders
- `person_name` - –ò–º—è –ø–µ—Ä—Å–æ–Ω—ã
- `person_index` - –ü–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä

#### 7. **Order_Meals** (–ë–ª—é–¥–∞ –≤ –∑–∞–∫–∞–∑–µ) - 2,765 –∑–∞–ø–∏—Å–µ–π
–ü–æ–ª—è:
- `order_id` - –°–≤—è–∑—å —Å Orders
- `meal_id` - –°–≤—è–∑—å —Å Meals
- `person_index` - –î–ª—è –∫–∞–∫–æ–π –ø–µ—Ä—Å–æ–Ω—ã
- `portion_size` - –†–∞–∑–º–µ—Ä (single, medium, large)
- `quantity` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ
- `price` - –¶–µ–Ω–∞
- `garnish_id` - –ì–∞—Ä–Ω–∏—Ä (–µ—Å–ª–∏ –µ—Å—Ç—å)

#### 8. **Order_Extras** (–î–æ–ø–æ–ª–Ω–µ–Ω–∏—è –≤ –∑–∞–∫–∞–∑–µ) - –ø—É—Å—Ç–æ
–ü–æ–ª—è:
- `order_id`, `extra_id`, `person_index`, `quantity`, `price`

#### 9. **Promo_Codes** (–ü—Ä–æ–º–æ–∫–æ–¥—ã) - –ø—É—Å—Ç–æ
–ü–æ–ª—è:
- `code`, `discount_percent`, `valid_from`, `valid_until`, `is_active`

#### 10. **Reviews** (–û—Ç–∑—ã–≤—ã) - 2 –∑–∞–ø–∏—Å–∏
–ü–æ–ª—è:
- `user_id`, `order_id`, `rating`, `comment`, `created_at`

#### 11. **Loyalty_Points_Transactions** (–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –±–∞–ª–ª–æ–≤) - 32 –∑–∞–ø–∏—Å–∏
–ü–æ–ª—è:
- `user_id`, `order_id`, `points_change`, `transaction_type`, `created_at`

#### 12. **Fraud_Alerts** (–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–µ) - 2 –∑–∞–ø–∏—Å–∏
–ü–æ–ª—è:
- `user_id`, `alert_type`, `description`, `created_at`

---

## üîë –ü–æ–ª—É—á–µ–Ω–∏–µ API —Ç–æ–∫–µ–Ω–∞

### –î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞ –∫ NocoDB:

1. –í–æ–π–¥–∏—Ç–µ –≤ NocoDB: https://noco.povarnakolesah.ru
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ **–∏–∫–æ–Ω–∫—É –ø—Ä–æ—Ñ–∏–ª—è** (–ø—Ä–∞–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª)
3. –í—ã–±–µ—Ä–∏—Ç–µ **Account Settings** ‚Üí **Tokens**
4. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω:
   - Name: `ogfoody-api`
   - –ù–∞–∂–º–∏—Ç–µ **Generate**
5. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω** (–æ–Ω –ø–æ–∫–∞–∂–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑!)

### –¢–æ–∫–µ–Ω –¥–æ–ª–∂–µ–Ω –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:
```
JxMXciv6zpc7jhRrdFWlZW_lD3h6dWv0Z7mLpULV
```

---

## üîß –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ —Å–æ–æ–±—â–∏—Ç–µ –º–Ω–µ, –∏ —è –æ–±–Ω–æ–≤–ª—é –µ–≥–æ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–∞–π—Ç–∞.

–ò–ª–∏ –≤—ã –º–æ–∂–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ —Å–∞–º–∏:
1. SSH –≤ —Å–µ—Ä–≤–µ—Ä: `ssh root@5.129.194.168`
2. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª: `nano /var/www/ogfoody/.env.production`
3. –ò–∑–º–µ–Ω–∏—Ç–µ —Å—Ç—Ä–æ–∫—É:
   ```
   NOCODB_TOKEN=–≤–∞—à_–Ω–æ–≤—ã–π_—Ç–æ–∫–µ–Ω
   ```
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ: `Ctrl+O`, `Enter`, `Ctrl+X`
5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `pm2 restart ogfoody`

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ API:
```bash
curl https://ogfoody.ru/api/menu
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è JSON —Å –≤–∞—à–∏–º–∏ –±–ª—é–¥–∞–º–∏.

---

## üì± –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç!

**–í—Å–µ –≤–∞—à–∏ 406 –±–ª—é–¥, 17 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ 28 –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –º–µ—Å—Ç–µ!**

–ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –Ω–µ –≤ –±–∞–∑–µ, –∞ –≤ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∫ –Ω–µ–π.
–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞ –≤—Å—ë –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç! üéâ

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã:
- **ogfoody.ru**: SSL –∞–∫—Ç–∏–≤–µ–Ω (Let's Encrypt, –ø—Ä–æ–¥–ª–µ–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- **noco.povarnakolesah.ru**: SSL –∞–∫—Ç–∏–≤–µ–Ω (Let's Encrypt, –ø—Ä–æ–¥–ª–µ–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

### Nginx —É–ø—Ä–∞–≤–ª—è–µ—Ç –æ–±–æ–∏–º–∏ –¥–æ–º–µ–Ω–∞–º–∏:
- `/etc/nginx/sites-enabled/ogfoody` ‚Üí https://ogfoody.ru (Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –ø–æ—Ä—Ç—É 3000)
- `/etc/nginx/sites-enabled/nocodb` ‚Üí https://noco.povarnakolesah.ru (NocoDB –≤ Docker –Ω–∞ –ø–æ—Ä—Ç—É 8080)

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ SSL:
Certbot –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –∫–∞–∂–¥—ã–µ 60 –¥–Ω–µ–π.

